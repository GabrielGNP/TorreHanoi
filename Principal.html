<!DOCTYPE html>
<head>
  <meta charset="UTF-8" />
  <title>CoordBox</title>
  <link rel="stylesheet" href="EstiloPrincipal.css" />
</head>

<body>
  <div id="d0"></div>
  <section id="Contenedor">
    <section id="sombra">
      <div class="poste" id="poste1">
        <div id="Disco1"></div>
        <div id="Disco2"></div>
        <div id="Disco3"></div>
        <div id="Disco4"></div>
        <div id="Disco5"></div>
        <div id="Disco6"></div>
      </div>
      <div class="poste" id="poste2"></div>
      <div class="poste" id="poste3"></div>
      <div id="indicator"></div>
    </section>
  </section>

  <section id="tablero">
    <label class="aga">
      <input type="button" id="bot" />
      <div id="botArAbSup">
        <i id="Baa" class="fa fa-arrows-v"></i>
        <!--        <i id="Baa">â—‹</i>-->
      </div>
    </label>

    <!--<div id="botAb"></div>-->
    <label id="Pal" onclick="mover(event)">
      <div id="botID">
        <i></i>
      </div>
    </label>
    <i id="FlI" class="fa fa-arrow-left"></i>
    <i id="FlD" class="fa fa-arrow-right"></i>
    <div class="basepal"></div>
    <!--<div id="botD"></div>-->
  </section>
  <label class="info" id="Inf">
    <button onclick="RecInfo()">0</button>
  </label>
</body>

<script>
  var BotoT = document.getElementById("bot");
  var BotoArAbSup = document.getElementById("botArAbSup");
  var Flech = document.getElementById("Baa");
  var BotID = document.getElementById("botID");

  var FlDs = document.getElementById("FlD");
  var FlIs = document.getElementById("FlI");

  var Indicador = {
    Objeto: document.getElementById("indicator"),
    D: false,
    DC: D0,
    PosteIndicado: 1
  };
  var Post1 = {
    Cont: 6,
    P: document.getElementById("poste1")
  };
  var Post2 = {
    Cont: 0,
    P: document.getElementById("poste2")
  };
  var Post3 = {
    Cont: 0,
    P: document.getElementById("poste3")
  };

  var D0 = {
    D: document.getElementById("d0"),
    V: 0
  };
  var D1 = {
    D: document.getElementById("Disco1"),
    V: 1
  };
  var D2 = {
    D: document.getElementById("Disco2"),
    V: 2
  };
  var D3 = {
    D: document.getElementById("Disco3"),
    V: 3
  };
  var D4 = {
    D: document.getElementById("Disco4"),
    V: 4
  };
  var D5 = {
    D: document.getElementById("Disco5"),
    V: 5
  };
  var D6 = {
    D: document.getElementById("Disco6"),
    V: 6
  };

  document.addEventListener("keydown", Teclas);

  function TomarDisco(Post) {
    switch (Post.Cont) {
      case 1:
        Post.Cont = 0;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D1.D);
        Indicador.DC = D1;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
      case 2:
        Post.Cont = 1;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D2.D);
        Indicador.DC = D2;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
      case 3:
        Post.Cont = 2;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D3.D);
        Indicador.DC = D3;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
      case 4:
        Post.Cont = 3;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D4.D);
        Indicador.DC = D4;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
      case 5:
        Post.Cont = 4;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D5.D);
        Indicador.DC = D5;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
      case 6:
        Post.Cont = 5;
        Indicador.D = true;
        var Cambio = Post.P.removeChild(D6.D);
        Indicador.DC = D6;
        Indicador.Objeto.appendChild(Cambio);
        Indicador.DC.style.top = "50px";

        break;
    }
  }

  function PonerDisco(Post) {
    var Cambio = Indicador.Objeto.removeChild(Indicador.DC.D);
    Post.P.appendChild(Cambio);
    switch (Post.Cont) {
      case 0:
        Indicador.D = false;
        D6.D.style.top = "180px";
        Post.Cont = Post.Cont + 1;
        break;
      case 1:
        Indicador.D = false;
        D6.D.style.top = "160px";
        Post.Cont = Indicador.DC.V;
        break;
      case 2:
        Indicador.D = false;
        D6.D.style.top = "140px";
        Post.Cont = Indicador.DC.V;
        break;
      case 3:
        Indicador.D = false;
        D6.D.style.top = "120px";
        Post.Cont = Indicador.DC.V;
        break;
      case 4:
        Indicador.D = false;
        D6.D.style.top = "100px";
        Post.Cont = Indicador.DC.V;
        break;
      case 5:
        Indicador.D = false;
        D6.D.style.top = "80px";
        Post.Cont = Indicador.DC.V;
        break;
    }
    Indicador.DC = D0;
  }

  function Teclas(evento) {
    var CodTec = evento.keyCode;
    switch (evento.keyCode) {
      case 38: //up
        BotoArAbSup.style.bottom = "10px";
        Flech.style.color = "#27e3ed";
        setTimeout(function () {
          BotoArAbSup.style.bottom = "15px";
          Flech.style.color = "#282828";
        }, 150);
        if (!Indicador.D) {
          switch (Indicador.PosteIndicado) {
            case 1:
              TomarDisco(Post1);
              break;
            case 2:
              TomarDisco(Post2);
              break;
            case 3:
              TomarDisco(Post3);
              break;
          }
        }
        break;
      case 40: //down
        BotoArAbSup.style.bottom = "10px";
        Flech.style.color = "#27e3ed";
        setTimeout(function () {
          BotoArAbSup.style.bottom = "15px";
          Flech.style.color = "#282828";
        }, 150);
        if (Indicador.D) {
          switch (Indicador.PosteIndicado) {
            case 1:
              PonerDisco(Post1);
              break;
            case 2:
              PonerDisco(Post2);
              break;
            case 3:
              PonerDisco(Post3);
              break;
          }
        }
        break;
      case 37: //left
        BotID.style.transform = "rotate(-15deg)";
        FlIs.style.color = "#27e3ed";
        switch (Indicador.PosteIndicado) {
          case 1:
            FlIs.style.color = "red";
            break;
          case 2:
            Indicador.Objeto.style.left = "107px";

            Indicador.PosteIndicado = 1;
            break;
          case 3:
            Indicador.Objeto.style.left = "348px";
            Indicador.PosteIndicado = 2;
            break;
        }
        setTimeout(function () {
          BotID.style.transform = "rotate(0deg)";
          FlIs.style.color = "#282828";
        }, 150); //100 equivale a 0.1 seg, 1000 equivale a 1 seg

        break;
      case 39: //right
        BotID.style.transform = "rotate(15deg)";
        FlDs.style.color = "#27e3ed";
        switch (Indicador.PosteIndicado) {
          case 1:
            Indicador.Objeto.style.left = "348px";
            Indicador.PosteIndicado = 2;
            break;
          case 2:
            Indicador.Objeto.style.left = "623px";
            Indicador.PosteIndicado = 3;
            break;
          case 3:
            FlDs.style.color = "red";
            break;
        }
        setTimeout(function () {
          BotID.style.transform = "rotate(0deg)";
          FlDs.style.color = "#282828";
        }, 150); //100 equivale a 0.1 seg, 1000 equivale a 1 seg

        break;
    }
  }
  function ApretadoBotonAbAr() {
    BotoArAbSup.style.bottom = "5px";
  }

  function SoltadoBotonAbAr() {
    BotonArAbSup.style.bottom = "10px";
  }

  function mover(e) {
    x = e.clientX;
    y = e.clientY;
    if (x <= 515) {
      //=======VISUAL=======
      BotID.style.transform = "rotate(-15deg)";
      FlIs.style.color = "#27e3ed";
      setTimeout(function () {
        BotID.style.transform = "rotate(0deg)";
        FlIs.style.color = "#282828";
      }, 150); //100 equivale a 0.1 seg, 1000 equivale a 1 seg
    }

    if (x > 515) {
      //=======VISUAL=======
      BotID.style.transform = "rotate(15deg)";
      FlDs.style.color = "#27e3ed";
      setTimeout(function () {
        BotID.style.transform = "rotate(0deg)";
        FlDs.style.color = "#282828";
      }, 150); //100 equivale a 0.1 seg, 1000 equivale a 1 seg
    }
  }

  function RecInfo() {
    var Info = document.getElementById("Inf");
    var inf0 = document.createElement("div");
    inf0.innerText = "========================";
    var inf1 = document.createElement("div");
    inf1.innerText = "Indicador.D: " + Indicador.D;
    var inf2 = document.createElement("div");
    inf2.innerText = "Indicador.PosteIndicado: " + Indicador.PosteIndicado;
    /*   var inf3 = document.createElement("div");
    inf3.innerText = "Indicador.DC.D.id: " + Indicador.DC.D.id;*/
    var inf4 = document.createElement("div");
    inf4.innerText = "Post1.Cont: " + Post1.Cont;
    var inf5 = document.createElement("div");
    inf5.innerText = "Post2.Cont: " + Post2.Cont;
    var inf6 = document.createElement("div");
    inf6.innerText = "Post3.Cont: " + Post3.Cont;
    Info.appendChild(inf0);
    Info.appendChild(inf1);
    Info.appendChild(inf2);
    /*Info.appendChild(inf3);*/
    Info.appendChild(inf4);
    Info.appendChild(inf5);
    Info.appendChild(inf6);
  }
</script>
